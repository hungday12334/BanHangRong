# TÃ­nh nÄƒng Quáº£n lÃ½ Danh má»¥c - Category Management

## ğŸ“‹ Tá»•ng quan
ÄÃ£ nÃ¢ng cáº¥p trang quáº£n lÃ½ danh má»¥c cá»§a Seller vá»›i nhiá»u tÃ­nh nÄƒng má»›i giÃºp quáº£n lÃ½ danh má»¥c hiá»‡u quáº£ hÆ¡n.

## âœ¨ CÃ¡c tÃ­nh nÄƒng Ä‘Ã£ thÃªm

### 1. **Thá»‘ng kÃª Dashboard** ğŸ“Š
- **Tá»•ng danh má»¥c**: Hiá»ƒn thá»‹ tá»•ng sá»‘ danh má»¥c Ä‘Ã£ táº¡o
- **Danh má»¥c cÃ³ sáº£n pháº©m**: Sá»‘ lÆ°á»£ng danh má»¥c Ä‘ang cÃ³ sáº£n pháº©m
- **Tá»•ng sáº£n pháº©m**: Tá»•ng sá»‘ sáº£n pháº©m trong táº¥t cáº£ danh má»¥c
- **Danh má»¥c má»›i**: Sá»‘ lÆ°á»£ng danh má»¥c Ä‘Æ°á»£c táº¡o trong 7 ngÃ y gáº§n Ä‘Ã¢y

CÃ¡c thá»‘ng kÃª Ä‘Æ°á»£c hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng cards vá»›i mÃ u sáº¯c gradient Ä‘áº¹p máº¯t.

### 2. **TÃ¬m kiáº¿m thÃ´ng minh** ğŸ”
- TÃ¬m kiáº¿m real-time theo tÃªn danh má»¥c
- TÃ¬m kiáº¿m theo mÃ´ táº£ danh má»¥c
- Cáº­p nháº­t sá»‘ lÆ°á»£ng káº¿t quáº£ ngay láº­p tá»©c
- KhÃ´ng cáº§n reload trang

**CÃ¡ch sá»­ dá»¥ng**: GÃµ tá»« khÃ³a vÃ o Ã´ "TÃ¬m kiáº¿m danh má»¥c..."

### 3. **Sáº¯p xáº¿p linh hoáº¡t** ğŸ”„
Sáº¯p xáº¿p danh sÃ¡ch danh má»¥c theo 6 tiÃªu chÃ­:
- **TÃªn (A-Z)**: Sáº¯p xáº¿p tÃªn tÄƒng dáº§n
- **TÃªn (Z-A)**: Sáº¯p xáº¿p tÃªn giáº£m dáº§n
- **Má»›i nháº¥t**: Danh má»¥c má»›i táº¡o lÃªn Ä‘áº§u
- **CÅ© nháº¥t**: Danh má»¥c cÅ© nháº¥t lÃªn Ä‘áº§u
- **Nhiá»u sáº£n pháº©m nháº¥t**: Danh má»¥c cÃ³ nhiá»u sáº£n pháº©m nháº¥t
- **Ãt sáº£n pháº©m nháº¥t**: Danh má»¥c cÃ³ Ã­t sáº£n pháº©m nháº¥t

**CÃ¡ch sá»­ dá»¥ng**: Chá»n tiÃªu chÃ­ tá»« dropdown "Sáº¯p xáº¿p"

### 4. **Hiá»ƒn thá»‹ sá»‘ sáº£n pháº©m** ğŸ“¦
- Má»—i danh má»¥c hiá»ƒn thá»‹ sá»‘ lÆ°á»£ng sáº£n pháº©m
- Badge vá»›i sá»‘ lÆ°á»£ng sáº£n pháº©m ná»•i báº­t
- NÃºt "Xem" Ä‘á»ƒ preview nhanh cÃ¡c sáº£n pháº©m trong danh má»¥c
- Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t sáº£n pháº©m trong modal

**CÃ¡ch sá»­ dá»¥ng**: Click vÃ o icon máº¯t (ğŸ‘) bÃªn cáº¡nh sá»‘ lÆ°á»£ng sáº£n pháº©m

### 5. **Bulk Actions - XÃ³a nhiá»u danh má»¥c** âœ…
- Cháº¿ Ä‘á»™ chá»n nhiá»u danh má»¥c cÃ¹ng lÃºc
- Checkbox "Select All" Ä‘á»ƒ chá»n táº¥t cáº£
- Hiá»ƒn thá»‹ sá»‘ lÆ°á»£ng Ä‘Ã£ chá»n
- XÃ³a nhiá»u danh má»¥c trong 1 láº§n thao tÃ¡c
- XÃ¡c nháº­n trÆ°á»›c khi xÃ³a Ä‘á»ƒ trÃ¡nh nháº§m láº«n

**CÃ¡ch sá»­ dá»¥ng**:
1. Click nÃºt "Chá»n nhiá»u"
2. Tick vÃ o cÃ¡c checkbox bÃªn cáº¡nh danh má»¥c cáº§n xÃ³a
3. Click "XÃ³a Ä‘Ã£ chá»n"
4. XÃ¡c nháº­n trong dialog

### 6. **Export CSV** ğŸ“¥
- Xuáº¥t danh sÃ¡ch danh má»¥c ra file CSV
- Bao gá»“m: ID, TÃªn, MÃ´ táº£, Sá»‘ sáº£n pháº©m, NgÃ y táº¡o
- Há»— trá»£ tiáº¿ng Viá»‡t (UTF-8 BOM)
- Chá»‰ xuáº¥t cÃ¡c danh má»¥c Ä‘ang hiá»ƒn thá»‹ (sau khi filter)
- TÃªn file tá»± Ä‘á»™ng: `categories_[timestamp].csv`

**CÃ¡ch sá»­ dá»¥ng**: Click nÃºt "Export CSV"

### 7. **Xem sáº£n pháº©m trong danh má»¥c** ğŸ‘ï¸
Modal popup hiá»ƒn thá»‹:
- HÃ¬nh áº£nh sáº£n pháº©m
- TÃªn sáº£n pháº©m
- SKU (mÃ£ sáº£n pháº©m)
- GiÃ¡ bÃ¡n
- Sá»‘ lÆ°á»£ng trong kho
- Sá»‘ lÆ°á»£ng Ä‘Ã£ bÃ¡n

**CÃ¡ch sá»­ dá»¥ng**: Click icon máº¯t á»Ÿ cá»™t "Sá»‘ sáº£n pháº©m"

### 8. **UI/UX cáº£i tiáº¿n** ğŸ¨
- Icons Tabler cho giao diá»‡n hiá»‡n Ä‘áº¡i
- Responsive design - tá»± Ä‘á»™ng Ä‘iá»u chá»‰nh trÃªn má»i thiáº¿t bá»‹
- Loading states rÃµ rÃ ng
- Empty states vá»›i hÆ°á»›ng dáº«n
- Alert tá»± Ä‘á»™ng Ä‘Ã³ng sau 5 giÃ¢y
- Hover effects vÃ  transitions mÆ°á»£t mÃ 
- Dark mode support (theo theme há»‡ thá»‘ng)

## ğŸ”§ Thay Ä‘á»•i ká»¹ thuáº­t

### Frontend (HTML/JavaScript)
**File**: `/src/main/resources/templates/seller/category-management.html`

**CÃ¡c function JavaScript má»›i**:
- `filterCategories()`: TÃ¬m kiáº¿m danh má»¥c
- `sortCategories()`: Sáº¯p xáº¿p danh má»¥c
- `toggleBulkMode()`: Báº­t/táº¯t cháº¿ Ä‘á»™ chá»n nhiá»u
- `toggleSelectAll()`: Chá»n/bá» chá»n táº¥t cáº£
- `updateSelectedCount()`: Cáº­p nháº­t sá»‘ lÆ°á»£ng Ä‘Ã£ chá»n
- `deleteSelected()`: XÃ³a cÃ¡c danh má»¥c Ä‘Ã£ chá»n
- `exportCategories()`: Xuáº¥t CSV
- `viewCategoryProducts()`: Xem sáº£n pháº©m trong danh má»¥c

### Backend (Java/Spring Boot)
**File**: `/src/main/java/banhangrong/su25/Controller/SellerCategoryController.java`

**CÃ¡c endpoint má»›i**:

1. **GET `/seller/categories`** - Cáº£i tiáº¿n
   - ThÃªm thá»‘ng kÃª: totalCategories, categoriesWithProducts, totalProducts, recentCategories
   - ThÃªm productCountByCategory Map

2. **POST `/seller/categories/actions/bulk-delete`** - Má»šI
   - XÃ³a nhiá»u danh má»¥c cÃ¹ng lÃºc
   - Parameter: `List<Long> categoryIds`
   - Xá»­ lÃ½ lá»—i tá»«ng danh má»¥c riÃªng biá»‡t

3. **GET `/seller/categories/{categoryId}/products`** - Má»šI
   - API tráº£ vá» JSON
   - Danh sÃ¡ch sáº£n pháº©m trong danh má»¥c
   - Bao gá»“m primary image cá»§a má»—i sáº£n pháº©m

**File**: `/src/main/java/banhangrong/su25/Repository/ProductsRepository.java`

**CÃ¡c method má»›i**:
- `countByCategoryId(Long categoryId)`: Äáº¿m sáº£n pháº©m theo danh má»¥c
- `findByCategoryId(Long categoryId)`: TÃ¬m sáº£n pháº©m theo danh má»¥c

## ğŸ“Š Data Flow

```
User Action â†’ JavaScript Function â†’ API Call â†’ Controller â†’ Service â†’ Repository â†’ Database
                                                      â†“
                                                   Response
                                                      â†“
                                            Update UI (no reload)
```

## ğŸ¯ Lá»£i Ã­ch

1. **Tiáº¿t kiá»‡m thá»i gian**: Bulk actions, tÃ¬m kiáº¿m nhanh
2. **Dá»… quáº£n lÃ½**: Thá»‘ng kÃª rÃµ rÃ ng, sáº¯p xáº¿p linh hoáº¡t
3. **Trá»±c quan**: Biáº¿t ngay danh má»¥c nÃ o cÃ³/khÃ´ng cÃ³ sáº£n pháº©m
4. **ChuyÃªn nghiá»‡p**: Export CSV cho bÃ¡o cÃ¡o, phÃ¢n tÃ­ch
5. **User-friendly**: KhÃ´ng cáº§n reload trang, pháº£n há»“i nhanh

## ğŸš€ HÆ°á»›ng dáº«n sá»­ dá»¥ng

### ThÃªm danh má»¥c má»›i
1. Nháº­p tÃªn danh má»¥c (báº¯t buá»™c)
2. Nháº­p mÃ´ táº£ (tÃ¹y chá»n)
3. Click "ThÃªm"

### Sá»­a danh má»¥c
1. Click nÃºt "Sá»­a" (icon bÃºt)
2. Chá»‰nh sá»­a thÃ´ng tin trong modal
3. Click "LÆ°u thay Ä‘á»•i"

### XÃ³a má»™t danh má»¥c
1. Click nÃºt "XÃ³a" (icon thÃ¹ng rÃ¡c)
2. XÃ¡c nháº­n trong dialog

### XÃ³a nhiá»u danh má»¥c
1. Click "Chá»n nhiá»u"
2. Tick checkbox cÃ¡c danh má»¥c cáº§n xÃ³a
3. Click "XÃ³a Ä‘Ã£ chá»n"
4. XÃ¡c nháº­n

### TÃ¬m kiáº¿m
- GÃµ tá»« khÃ³a vÃ o Ã´ tÃ¬m kiáº¿m
- Káº¿t quáº£ hiá»ƒn thá»‹ ngay láº­p tá»©c

### Xem sáº£n pháº©m
- Click icon máº¯t á»Ÿ cá»™t "Sá»‘ sáº£n pháº©m"
- Modal hiá»ƒn thá»‹ danh sÃ¡ch sáº£n pháº©m

### Xuáº¥t CSV
- Click "Export CSV"
- File tá»± Ä‘á»™ng táº£i vá»

## ğŸ”® TÃ­nh nÄƒng cÃ³ thá»ƒ má»Ÿ rá»™ng thÃªm

1. **Drag & Drop**: KÃ©o tháº£ Ä‘á»ƒ sáº¯p xáº¿p thá»© tá»± danh má»¥c
2. **Category Images**: ThÃªm hÃ¬nh áº£nh cho danh má»¥c
3. **Sub-categories**: Danh má»¥c con/danh má»¥c cha
4. **Category Status**: Active/Inactive toggle
5. **Import CSV**: Nháº­p danh má»¥c tá»« file CSV
6. **Category Analytics**: Biá»ƒu Ä‘á»“ doanh thu theo danh má»¥c
7. **Bulk Edit**: Sá»­a nhiá»u danh má»¥c cÃ¹ng lÃºc
8. **Category Tags**: ThÃªm tags cho danh má»¥c
9. **Advanced Filters**: Lá»c theo nhiá»u tiÃªu chÃ­
10. **Pagination**: PhÃ¢n trang khi cÃ³ quÃ¡ nhiá»u danh má»¥c
11. **Category Templates**: Máº«u danh má»¥c cÃ³ sáºµn
12. **SEO Settings**: CÃ i Ä‘áº·t SEO cho má»—i danh má»¥c

## ğŸ› LÆ°u Ã½

- Thá»‘ng kÃª Ä‘Æ°á»£c tÃ­nh real-time má»—i láº§n load trang
- Bulk delete sáº½ bá» qua cÃ¡c danh má»¥c cÃ³ lá»—i vÃ  tiáº¿p tá»¥c xÃ³a cÃ¡c danh má»¥c khÃ¡c
- Export CSV chá»‰ xuáº¥t cÃ¡c danh má»¥c Ä‘ang hiá»ƒn thá»‹ sau khi filter/search
- Modal xem sáº£n pháº©m load dá»¯ liá»‡u qua API, cÃ³ thá»ƒ máº¥t vÃ i giÃ¢y náº¿u cÃ³ nhiá»u sáº£n pháº©m

## ğŸ“ Version History

**Version 2.0** - 23/10/2025
- âœ… ThÃªm thá»‘ng kÃª dashboard
- âœ… TÃ¬m kiáº¿m real-time
- âœ… Sáº¯p xáº¿p 6 tiÃªu chÃ­
- âœ… Hiá»ƒn thá»‹ sá»‘ sáº£n pháº©m
- âœ… Bulk delete
- âœ… Export CSV
- âœ… Xem sáº£n pháº©m trong modal
- âœ… UI/UX cáº£i tiáº¿n

**Version 1.0** - TrÆ°á»›c Ä‘Ã¢y
- CRUD cÆ¡ báº£n cho danh má»¥c

