<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đổi Mật khẩu</title>
    <link rel="stylesheet" href="/css/styles.min.css">
    <style>
        :root { --bg:#f5f7fb; --card:#ffffff; --ink:#0f172a; --muted:#6b7280; --brand:#0ea5e9; --line:#eaeef4; }
        body { margin:0; font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color:var(--ink); background:var(--bg); }
        .layout { max-width:1000px; margin:18px auto; display:flex; gap:18px; align-items:flex-start; }
        .sidebar { width:240px; background:#fff; border:1px solid var(--line); border-radius:14px; padding:16px; }
        .sidebar .title { font-weight:700; margin-bottom:8px; }
        .sidebar a { display:block; padding:10px 12px; border-radius:10px; color:#111827; text-decoration:none; }
        .sidebar a.active, .sidebar a:hover { background:#f3f4f6; }
        .card { flex:1; background:#fff; border:1px solid var(--line); border-radius:14px; padding:24px; }
        .form-grid { display:grid; grid-template-columns:1fr 1fr; gap:16px; }
        .form-group { display:flex; flex-direction:column; gap:6px; }
        .form-group label { font-size:13px; color:var(--muted); }
        .form-group input { height:40px; padding:0 10px; border:1px solid var(--line); border-radius:8px; }
        .actions { display:flex; gap:10px; justify-content:flex-end; margin-top:16px; }
        .btn { padding:10px 16px; border-radius:10px; border:1px solid var(--line); background:#fff; cursor:pointer; }
        .btn.primary { background:var(--brand); color:#fff; border-color:var(--brand); }
    </style>
</head>
<body>
<div class="layout">
    <aside class="sidebar" aria-label="Profile navigation">
        <div class="title">Tài Khoản Của Tôi</div>
        <a th:href="@{'/customer/profile/' + ${user.username}}">Hồ sơ</a>
        <a th:href="@{'/customer/profile/' + ${user.username} + '/change-password'}" class="active">Đổi Mật khẩu</a>
    </aside>
    <section class="card">
        <h2 style="margin-top:0;">Đổi Mật khẩu</h2>
        <div th:if="${pwdError != null}" class="notice" style="margin-bottom:12px;color:#dc2626;background:#fef2f2;border-color:#fecaca;" th:text="${pwdError}">Lỗi đổi mật khẩu.</div>
        <form th:action="@{'/customer/profile/' + ${user.username} + '/change-password'}" method="post">
            <div class="form-grid">
                <div class="form-group">
                    <label>Mật khẩu hiện tại</label>
                    <input type="password" name="currentPassword" autocomplete="current-password" required>
                </div>
                <div></div>
                <div class="form-group">
                    <label>Mật khẩu mới</label>
                    <input type="password" name="newPassword" autocomplete="new-password" required>
                </div>
                <div class="form-group">
                    <label>Nhập lại mật khẩu mới</label>
                    <input type="password" name="confirmPassword" autocomplete="new-password" required>
                </div>
            </div>
            <div class="actions">
                <a th:href="@{'/customer/profile/' + ${user.username}}" class="btn">Hủy</a>
                <button type="submit" class="btn primary">Lưu</button>
            </div>
        </form>
    </section>
</div>
</body>
</html>

